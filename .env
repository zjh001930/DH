# =============================================================================
# AI 助手工具 - 环境配置文件
# =============================================================================

# -----------------------------------------------------------------------------
# 数据库配置 (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_DB=ai_assistant
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# 完整的数据库连接 URL
DATABASE_URL=postgresql://admin:admin123@poc-pg:5432/unified_db

# -----------------------------------------------------------------------------
# LLM 和 Embedding 模型配置
# -----------------------------------------------------------------------------

# LLM策略选择: "local" 使用本地Ollama模型, "api" 使用外部API
LLM_STRATEGY=local

# === 本地模型配置 (当 LLM_STRATEGY=local 时使用) ===
# Ollama 服务地址
OLLAMA_API_URL=http://poc-ollama:11434

# 使用的模型名称
LLM_MODEL_NAME=qwen2.5:3b-instruct
EMBEDDING_MODEL_NAME=bge-m3

# === # === API模型配置 (当 LLM_STRATEGY=api 时使用) ===
# API密钥 (千问/通义千问)
API_KEY=sk-xxxxx

# API模型名称 (千问模型)
API_MODEL_NAME=qwen-turbo
API_EMBEDDING_MODEL=text-embedding-v1

# API基础URL (千问API端点)
API_BASE_URL=https://dashscope.aliyuncs.com/api/v1

# -----------------------------------------------------------------------------
# 向量数据库配置 (Weaviate)
# -----------------------------------------------------------------------------
WEAVIATE_HOST=poc-weaviate:8080
WEAVIATE_URL=http://poc-weaviate:8080
WEAVIATE_RAG_CLASS=AssistantKnowledge
WEAVIATE_AUTO_VECTORIZE=true

# -----------------------------------------------------------------------------
# 服务端口配置
# -----------------------------------------------------------------------------
# 后端 API 端口
BACKEND_PORT=18000

# 前端服务端口
FRONTEND_PORT=3300

# PostgreSQL 端口
POSTGRES_PORT=5432

# Weaviate 端口
WEAVIATE_PORT=18080

# Ollama 端口
OLLAMA_PORT=11435

# -----------------------------------------------------------------------------
# 前端配置
# -----------------------------------------------------------------------------
# 后端 API 地址 (前端访问用)
REACT_APP_BACKEND_URL=/api

# -----------------------------------------------------------------------------
# 业务逻辑配置
# -----------------------------------------------------------------------------
# 意图识别置信度阈值 (0.75 表示 75% 以上置信度才触发任务流程)
INTENT_CONFIDENCE_THRESHOLD=0.75

# 图片存储路径
IMAGE_STORAGE_PATH=/app/data/images

# -----------------------------------------------------------------------------
# 开发环境配置
# -----------------------------------------------------------------------------
# Flask 环境
FLASK_ENV=production
FLASK_DEBUG=0

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# 安全配置
# -----------------------------------------------------------------------------
# Flask 密钥 (生产环境请更改为随机字符串)
SECRET_KEY=your-secret-key-change-in-production

# API 密钥 (如果需要的话)
# API_KEY=your-api-key

# -----------------------------------------------------------------------------
# 性能配置
# -----------------------------------------------------------------------------
# 数据库连接池大小
DB_POOL_SIZE=10

# 最大溢出连接数
DB_MAX_OVERFLOW=20

# 连接超时时间 (秒)
DB_POOL_TIMEOUT=30

# -----------------------------------------------------------------------------
# 其他配置
# -----------------------------------------------------------------------------
# 时区设置
TZ=Asia/Shanghai

# 语言设置
LANG=zh_CN.UTF-8